package com.wipro.training.bank.service;

import org.springframework.stereotype.Service;

import com.wipro.training.bank.dao.AccountDetailsDTO;
import com.wipro.training.bank.model.Account;
import com.wipro.training.bank.repository.AccountRepository;

/*
Author-Abhinav Kumar
Date-Sep 14, 2024
Time-7:34:04â€¯PM
Project-daily-bank
*/

@Service
public class AccountManagementService {

    private final AccountRepository accountRepository;

    public AccountManagementService(AccountRepository accountRepository) {
        this.accountRepository = accountRepository;
    }

    public Account openAccount(Account account) {
        account.setAccountNumber(generateAccountNumber());
        return accountRepository.save(account);
    }

    public AccountDetailsDTO getAccountDetails(String accountNumber) {
        Account account = accountRepository.findByAccountNumber(accountNumber);
        if (account != null) {
            return mapToAccountDetailsDTO(account);
        } else {
            return null;
        }
    }

    private AccountDetailsDTO mapToAccountDetailsDTO(Account account) {
        // Mapping logic here
    }

    private String generateAccountNumber() {
        // Account number generation logic
    }
}

